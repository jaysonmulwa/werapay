(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{101:function(e,t,a){"use strict";a.r(t);var n=a(99),l=a(58),o=a(15),s=a(16),r=a(18),d=a(17),c=a(0),m=a.n(c),i=a(3),u=a(71),p=a.n(u),b=a(102),h=a(110),f=a(111),g=Object(c.lazy)((function(){return a.e(11).then(a.bind(null,42))})),y=Object(c.lazy)((function(){return a.e(14).then(a.bind(null,98))})),x=Object(c.lazy)((function(){return a.e(0).then(a.bind(null,43))})),v=function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={fname:"",idno:"",kra:"",position:"",dpt:"",payroll:"",cname:"",caddr:"",month:"",year:"",bank:"",acc:"",file:[],filename:null,tempfile:null,values:[],paycode_e:[],amount_e:[],values_e:[],paycode_d:[],amount_d:[],values_d:[],paycode_t:[],amount_t:[],values_t:[],downloaded:!1,mail_sent:!1,allowEmail:!1,send_to_name:"",send_to_email:"",slip_name:""},e.FileOnChange=function(t){"undefined"!=typeof t.target.files[0]&&(null==e.state.filename&&e.setState({isNew:!1}),e.setState({file:t.target.files[0]}),e.setState({filename:t.target.files[0].name}),e.setState({tempfile:URL.createObjectURL(t.target.files[0])}));console.log(e.state)},e.onChange=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.handleDownload=function(e){e.preventDefault();p.a.get("/slips/payslip.pdf","","").then((function(e){console.log(e)}))},e.handleAllowEmail=function(t){t.preventDefault(),e.setState({mail_sent:!1,allowEmail:!0})},e.handleSendAsMail=function(t){t.preventDefault();var a=e.state,n=a.slip_name,l=a.send_to_name,o=a.send_to_email,s=new FormData;s.append("mail_slip_name",n),s.append("mail_send_name",l),s.append("mail_send_email",o),e.setState({mail_sent:!1});s&&p.a.post("/api/v1/sendmail",s,{headers:{"Content-Type":"multipart/form-data; boundary=--------------------------811161660471543283806813"}}).then((function(t){"Failed"!==t.data&&(console.log(t.data),e.setState({allowEmail:!1,mail_sent:!0}))}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.cname,l=a.caddr,o=a.fname,s=a.idno,r=a.kra,d=a.position,c=a.dpt,m=a.payroll,i=a.bank,u=a.acc,b=a.month,h=a.year,f=a.file,g=a.filename,y=a.paycode_e,x=a.amount_e,v=a.paycode_d,w=a.amount_d,E=a.paycode_t,_=a.amount_t,C=new FormData;C.append("cname",n),C.append("caddr",l),C.append("fname",o),C.append("idno",s),C.append("kra",r),C.append("position",d),C.append("dpt",c),C.append("payroll",m),C.append("bank",i),C.append("acc",u),C.append("month",b),C.append("year",h),C.append("position",d),C.append("file",f),C.append("filename",g),C.append("paycode_e",y),C.append("amount_e",x),C.append("paycode_d",v),C.append("amount_d",w),C.append("paycode_t",E),C.append("amount_t",_),e.setState({downloaded:!1,mail_sent:!1,allowEmail:!1});C&&p.a.post("/api/v1/personalslip",C,{headers:{"Content-Type":"multipart/form-data; boundary=--------------------------811161660471543283806813"}}).then((function(t){"Failed"!==t.data&&(console.log(t.data),e.setState({slip_name:t.data}),e.setState({downloaded:!0}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({downloaded:!1})}},{key:"handleEarningsPaycodeChange",value:function(e,t){var a=Object(n.a)(this.state.paycode_e);a[e]=t.target.value,this.setState({paycode_e:a})}},{key:"handleEarningsAmountChange",value:function(e,t){var a=Object(n.a)(this.state.amount_e);a[e]=t.target.value,this.setState({amount_e:a})}},{key:"handleDeductionsPaycodeChange",value:function(e,t){var a=Object(n.a)(this.state.paycode_d);a[e]=t.target.value,this.setState({paycode_d:a})}},{key:"handleDeductionsAmountChange",value:function(e,t){var a=Object(n.a)(this.state.amount_d);a[e]=t.target.value,this.setState({amount_d:a})}},{key:"handleTaxPaycodeChange",value:function(e,t){var a=Object(n.a)(this.state.paycode_t);a[e]=t.target.value,this.setState({paycode_t:a})}},{key:"handleTaxAmountChange",value:function(e,t){var a=Object(n.a)(this.state.amount_t);a[e]=t.target.value,this.setState({amount_t:a})}},{key:"addClick",value:function(){this.setState((function(e){return{values:[].concat(Object(n.a)(e.values),[""])}}))}},{key:"addClick_e",value:function(){this.setState((function(e){return{values_e:[].concat(Object(n.a)(e.values_e),[""])}}))}},{key:"addClick_d",value:function(){this.setState((function(e){return{values_d:[].concat(Object(n.a)(e.values_d),[""])}}))}},{key:"addClick_t",value:function(){this.setState((function(e){return{values_t:[].concat(Object(n.a)(e.values_t),[""])}}))}},{key:"removeClick",value:function(e){var t=Object(n.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"removeClick_e",value:function(e){var t=Object(n.a)(this.state.values_e);t.splice(e,1),this.setState({values_e:t})}},{key:"removeClick_d",value:function(e){var t=Object(n.a)(this.state.values_d);t.splice(e,1),this.setState({values_d:t})}},{key:"removeClick_t",value:function(e){var t=Object(n.a)(this.state.values_t);t.splice(e,1),this.setState({values_t:t})}},{key:"createEarningsUI",value:function(){var e=this;return this.state.values_e.map((function(t,a){return m.a.createElement("div",{key:a},m.a.createElement(b.a,null,m.a.createElement(h.a,{in:!0,out:!0,tag:"h5",className:"mt-3"},m.a.createElement("div",{class:"flex flex-col md:flex-row -mx-3"},m.a.createElement("div",{class:"w-12/12 lg:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"paycode",id:"paycode",placeholder:"Item",onChange:e.handleEarningsPaycodeChange.bind(e,a)})),m.a.createElement("div",{class:"w-12/12 md:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"number",name:"amount",id:"amount",placeholder:"Amount (0.00)",onChange:e.handleEarningsAmountChange.bind(e,a)})),m.a.createElement("div",{class:"w-1/12 md:w-2/12 px-3"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-luminous-red bg-gray-100 hover:bg-luminous-red hover:text-white focus:outline-none",type:"button",color:"danger",value:"remove",onClick:e.removeClick_e.bind(e,a)},"Remove"))))))}))}},{key:"createDeductionsUI",value:function(){var e=this;return this.state.values_d.map((function(t,a){return m.a.createElement("div",{key:a},m.a.createElement(b.a,null,m.a.createElement(h.a,{in:!0,out:!0,tag:"h5",className:"mt-3"},m.a.createElement("div",{class:"flex flex-col md:flex-row -mx-3"},m.a.createElement("div",{class:"w-12/12 lg:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"paycode",id:"paycode",placeholder:"Item",onChange:e.handleDeductionsPaycodeChange.bind(e,a)})),m.a.createElement("div",{class:"w-12/12 md:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"number",name:"amount",id:"amount",placeholder:"Amount (0.00)",onChange:e.handleDeductionsAmountChange.bind(e,a)})),m.a.createElement("div",{class:"w-1/12 md:w-2/12 px-3"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-luminous-red bg-gray-100 hover:bg-luminous-red hover:text-white focus:outline-none",type:"button",value:"remove",onClick:e.removeClick_d.bind(e,a)},"Remove"))))))}))}},{key:"createTaxUI",value:function(){var e=this;return this.state.values_t.map((function(t,a){return m.a.createElement("div",{key:a},m.a.createElement(b.a,null,m.a.createElement(h.a,{in:!0,out:!0,tag:"h5",className:"mt-3"},m.a.createElement("div",{class:"flex flex-col md:flex-row -mx-3"},m.a.createElement("div",{class:"w-12/12 lg:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"paycode",id:"paycode",placeholder:"Item",onChange:e.handleTaxPaycodeChange.bind(e,a)})),m.a.createElement("div",{class:"w-12/12 md:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"number",name:"amount",id:"amount",placeholder:"Amount (0.00)",onChange:e.handleTaxAmountChange.bind(e,a)})),m.a.createElement("div",{class:"w-1/12 md:w-2/12 px-3"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-luminous-red bg-gray-100 hover:bg-luminous-red hover:text-white focus:outline-none",type:"button",value:"remove",onClick:e.removeClick_t.bind(e,a)},"Remove"))))))}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"bg-gray-200"},m.a.createElement(g,null),m.a.createElement(y,null),m.a.createElement("section",{class:"body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font mb-5"},"Earnings"),this.createEarningsUI(),m.a.createElement("div",{class:"mb-2 mr-2"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-white bg-gray-600 hover:bg-luminous-green focus:outline-none",value:"add more",onClick:this.addClick_e.bind(this)},"Add"))))),m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font mb-5"},"Deductions"),this.createDeductionsUI(),m.a.createElement("div",{class:"mb-2 mr-2"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-white bg-gray-600 hover:bg-luminous-green focus:outline-none",value:"add more",onClick:this.addClick_d.bind(this)},"Add"))))),m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font mb-5"},"Tax Details"),this.createTaxUI(),m.a.createElement("div",{class:"mb-2 mr-2"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-white bg-gray-600 hover:bg-luminous-green focus:outline-none",value:"add more",onClick:this.addClick_t.bind(this)},"Add"))))),m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font mb-5"},"Company Details"),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyname"},"Company Name"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"cname",id:"cname",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"Company Address"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"caddr",id:"caddr",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-4",for:"companyaddress"},"Company Logo"),m.a.createElement(f.a,{type:"file",name:"customFile",id:"customFile",label:"choose an image file",onChange:this.FileOnChange,className:"w-1/2 mb-4"}),m.a.createElement("div",{className:""},m.a.createElement("img",{className:"rounded-lg shadow-lg",style:{maxHeight:"8rem"},src:this.state.tempfile}))))),m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font mb-5"},"Personal Details"),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"fullname"},"Full Name"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"fname",id:"fname",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"ID Number"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"number",name:"idno",id:"ino",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"Tax PIN"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"kra",id:"kra",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"Position"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"position",id:"position",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"Department"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"dpt",id:"dpt",placeholder:"",onChange:this.onChange}),m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"companyaddress"},"Payroll No."),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline",type:"text",name:"payroll",id:"payroll",placeholder:"",onChange:this.onChange}),m.a.createElement("div",{class:"flex flex-wrap -mx-3"},m.a.createElement("div",{class:"w-full lg:w-1/2 px-3"},m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"bank"},"Bank"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"bank",id:"bank",placeholder:"",onChange:this.onChange})),m.a.createElement("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"acc"},"Account Number"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"acc",id:"acc",placeholder:"",onChange:this.onChange}))),m.a.createElement("div",{class:"flex flex-wrap -mx-3"},m.a.createElement("div",{class:"w-full md:w-1/2 px-3"},m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"month"},"Month"),m.a.createElement("select",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"select",name:"month",id:"month",placeholder:"",onChange:this.onChange},m.a.createElement("option",{value:"--"},"-- Select Month --"),m.a.createElement("option",{value:"JANUARY"},"January"),m.a.createElement("option",{value:"FEBRUARY"},"February"),m.a.createElement("option",{value:"MARCH"},"March"),m.a.createElement("option",{value:"APRIL"},"April"),m.a.createElement("option",{value:"MAY"},"May"),m.a.createElement("option",{value:"JUNE"},"June"),m.a.createElement("option",{value:"JULY"},"July"),m.a.createElement("option",{value:"AUGUST"},"August"),m.a.createElement("option",{value:"SEPTEMBER"},"September"),m.a.createElement("option",{value:"OCTOBER"},"October"),m.a.createElement("option",{value:"NOVEMBER"},"November"),m.a.createElement("option",{value:"DECEMBER"},"December"))),m.a.createElement("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},m.a.createElement("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"year"},"Year"),m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"number",name:"year",id:"year",placeholder:"",onChange:this.onChange})))))),m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("center",null,m.a.createElement("div",{class:"mb-2 mr-2"},m.a.createElement("button",{class:"rounded-lg py-2 px-4 text-white bg-luminous-blue hover:bg-blue-600 focus:outline-none",value:"add more",type:"submit"},"Submit"))))))),this.state.downloaded&&m.a.createElement(h.a,{in:!0,out:!0},m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("center",null,m.a.createElement("a",{href:"/slips/".concat(this.state.slip_name),target:"_blank",download:!0},"Download File")," ","or",m.a.createElement("button",{class:"rounded-lg mx-3 py-2 px-4 text-blue-600 bg-gray-100 hover:bg-luminous-blue hover:text-white focus:outline-none",type:"button",value:"Send as Mail",onClick:function(t){return e.handleAllowEmail(t)}},"Send as Mail")))))),this.state.allowEmail&&m.a.createElement(h.a,{in:!0,out:!0},m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("div",{class:"flex flex-col md:flex-row -mx-3"},m.a.createElement("div",{class:"w-12/12 lg:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"text",name:"send_to_name",id:"send_to_name",placeholder:"Recepient Name",onChange:this.onChange})),m.a.createElement("div",{class:"w-12/12 md:w-5/12 px-3"},m.a.createElement("input",{class:"bg-white rounded border border-gray-400 text-base px-4 py-2 mb-4 focus:outline-none focus:shadow-outline w-full",type:"email",name:"send_to_email",id:"send_to_email",placeholder:"Recepient Email Address",onChange:this.onChange})),m.a.createElement("div",{class:"w-1/12 md:w-3/12 px-3"},m.a.createElement("button",{class:"rounded-lg mx-3 py-2 px-4 text-white bg-luminous-blue hover:bg-blue-600 focus:outline-none",type:"button",value:"Send as Mail",onClick:function(t){return e.handleSendAsMail(t)}},"Send"))))))),this.state.mail_sent&&m.a.createElement(h.a,{in:!0,out:!0},m.a.createElement("section",{class:"text-gray-700 body-font"},m.a.createElement("div",{class:"container py-6 mx-auto flex"},m.a.createElement("div",{class:"lg:w-8/12 md:w-8/12 bg-white rounded-lg p-8 flex flex-col w-full md:ml-auto md:mr-auto mt-10 md:mt-0 relative z-10  shadow-md"},m.a.createElement("center",null,"Sent!"))))),m.a.createElement(x,null))}}]),a}(c.Component);t.default=Object(i.f)(v)}}]);
//# sourceMappingURL=13.db0c53bc.chunk.js.map